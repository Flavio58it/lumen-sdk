/// <reference path="../typings/main.d.ts"/>
angular.module('starter.controllers')
    .controller('PersistenceFactCtrl', function ($scope, $stateParams, $log, LumenStomp, Settings, $window) {
    $scope.locales = [
        { id: 'id-ID', name: 'Indonesian' },
        { id: 'en-US', name: 'English (United States)' }
    ];
    $scope.form = {
        matchRequest: {
            inLanguage: $scope.locales[0]
        }
    };
    $scope.switchAvatar = function () {
        LumenStomp.unsubscribeAll();
        LumenStomp.subscribe('/topic/lumen.persistence.fact.reply', function (inMsg) {
            var json = JSON.parse(inMsg.body);
            $log.info("Received response", json);
            $window.alert('Received response: ' + inMsg);
        });
    };
    $scope.$on('$ionicView.enter', function () {
        LumenStomp.connect(function () {
            $scope.client = LumenStomp.getClient();
            $scope.switchAvatar();
        });
    });
    $scope.$on('$ionicView.beforeLeave', function () {
        LumenStomp.disconnect();
    });
    $scope.matchBtn = function () {
        var factRequest = {
            '@type': 'FactRequest',
            'operation': 'match',
            upLabel: $scope.form.matchRequest.upLabel,
            inLanguage: $scope.form.matchRequest.inLanguage.id
        };
        $log.info('match', factRequest, JSON.stringify(factRequest));
        $scope.client.send('/topic/lumen.persistence.fact', 
        //            {"reply-to": '/temp-queue/lumen.persistence.fact'}, JSON.stringify(factRequest));
        { "reply-to": 'lumen.persistence.fact.reply' }, JSON.stringify(factRequest));
    };
})
    .controller('PersistenceQueryFindAllCtrl', function ($scope, $stateParams, $log, ngstomp, Settings, $window) {
    $scope.query = {
        '@type': 'FindAllQuery',
        classRef: null,
        itemsPerPage: 25
    };
    $scope.resources = { content: [] };
    $scope.classes = [
        { label: "person", ref: 'yago:wordnet_person_100007846' },
        { label: "country", ref: 'yago:wordnet_country_108544813' },
        { label: "area", ref: 'yago:wordnet_area_108497294' },
        { label: "organization", ref: 'yago:wordnet_organization_108008335' },
        { label: "alumnus", ref: 'yago:wordnet_alumnus_109786338' },
        { label: "university", ref: 'yago:wordnet_university_108286569' },
        { label: "mountain", ref: 'yago:wordnet_mountain_109359803' },
        { label: "lake", ref: 'yago:wordnet_lake_109328904' },
        { label: "building", ref: 'yago:wordnet_building_102913152' },
        { label: "island", ref: 'yago:wordnet_island_109316454' },
        { label: "continent", ref: 'yago:wordnet_continent_109254614' },
        { label: "planet", ref: 'yago:wordnet_planet_109394007' },
        { label: "galaxy", ref: 'yago:wordnet_galaxy_108270938' }
    ];
    $scope.form = { class: $scope.classes[0] };
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions['/temp-queue/persistence.fact'] = function (msg) {
            $log.debug('Received /temp-queue/persistence.fact:', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $scope.query.classRef = $scope.form.class.ref;
        $log.info('FindAllQuery', $scope.query, JSON.stringify($scope.query));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.fact', { "reply-to": '/temp-queue/persistence.fact' }, JSON.stringify($scope.query));
    };
})
    .controller('PersistenceQueryCypherCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'CypherQuery',
        query: 'MATCH (n:Resource {href: \'lumen:Budhi_Yulianto\'}) -[r]-> (x)\n' +
            'RETURN r, x;'
    };
    var tempQueue = '/temp-queue/persistence.fact.cypher';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('CypherQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.fact', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
})
    .controller('PersistenceJournalImageCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'JournalImageQuery',
        maxDateCreated: '2015-02-26T16:11',
        itemsPerPage: 25
    };
    var tempQueue = '/temp-queue/persistence.journal.image';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('JournalImageQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.journal', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
})
    .controller('PersistenceJournalJointCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'JournalJointQuery',
        maxDateCreated: '2015-02-17T16:11',
        itemsPerPage: 25
    };
    var tempQueue = '/temp-queue/persistence.journal.joint';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('JournalJointQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.journal', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
})
    .controller('PersistenceJournalSonarCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'JournalSonarQuery',
        maxDateCreated: '2015-02-17T16:11',
        itemsPerPage: 25
    };
    var tempQueue = '/temp-queue/persistence.journal.sonar';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('JournalSonarQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.journal', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
})
    .controller('PersistenceJournalTactileCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'JournalTactileQuery',
        maxDateCreated: '2015-02-17T16:11',
        itemsPerPage: 25
    };
    var tempQueue = '/temp-queue/persistence.journal.tactile';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('JournalTactileQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.journal', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
})
    .controller('PersistenceJournalBatteryCtrl', function ($scope, $stateParams, $log, $window, ngstomp, Settings) {
    $scope.resources = { content: [] };
    $scope.form = {
        '@type': 'JournalBatteryQuery',
        maxDateCreated: '2015-02-17T16:11',
        itemsPerPage: 25
    };
    var tempQueue = '/temp-queue/persistence.journal.battery';
    //    var stompUri = 'http://' + window.location.hostname + ':15674/stomp';
    var settings = Settings.getSettings();
    $log.info('Stomp connecting to', settings.stompUri);
    $scope.client = ngstomp(settings.stompUri);
    $scope.client.connect(settings.stompUser, settings.stompPassword, function () {
        $log.info('Stomp connected to', settings.stompUri);
        $scope.client.stompClient.subscriptions[tempQueue] = function (msg) {
            $log.debug('Received ', tempQueue, ':', msg.body);
            $scope.$apply(function () {
                var json = JSON.parse(msg.body);
                if (json['@type'] == 'Resources') {
                    $scope.resources = json;
                }
                else {
                    $log.error(json.exceptionClass + ': ' + json.message);
                    $log.error(json.stackTrace);
                    $window.alert(json.exceptionClass + ': ' + json.message + '\n' + json.stackTrace);
                }
            });
        };
    }, function (err) {
        $log.error('Stomp error:', err);
        $scope.client = null;
    }, '/');
    $scope.submit = function () {
        $log.info('JournalBatteryQuery', $scope.form, JSON.stringify($scope.form));
        $scope.resources = { content: [] };
        $scope.client.send('/topic/lumen.arkan.persistence.journal', { "reply-to": tempQueue }, JSON.stringify($scope.form));
    };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcnNpc3RlbmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0QztBQUM1QyxPQUFPLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDO0tBRXBDLFVBQVUsQ0FBQyxxQkFBcUIsRUFBRSxVQUFTLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsT0FBTztJQUNqRyxNQUFNLENBQUMsT0FBTyxHQUFHO1FBQ2IsRUFBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUM7UUFDakMsRUFBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSx5QkFBeUIsRUFBQztLQUNqRCxDQUFDO0lBQ0YsTUFBTSxDQUFDLElBQUksR0FBRztRQUNWLFlBQVksRUFBRTtZQUNWLFVBQVUsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNoQztLQUNKLENBQUM7SUFFRixNQUFNLENBQUMsWUFBWSxHQUFHO1FBQ2xCLFVBQVUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM1QixVQUFVLENBQUMsU0FBUyxDQUFDLHFDQUFxQyxFQUFFLFVBQVMsS0FBSztZQUN0RSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3JDLE9BQU8sQ0FBQyxLQUFLLENBQUMscUJBQXFCLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFDakQsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUM7SUFFRixNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFO1FBQzNCLFVBQVUsQ0FBQyxPQUFPLENBQUM7WUFDZixNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN2QyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztJQUNILE1BQU0sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUU7UUFDakMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzVCLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLFFBQVEsR0FBRztRQUNkLElBQUksV0FBVyxHQUFHO1lBQ2QsT0FBTyxFQUFFLGFBQWE7WUFDdEIsV0FBVyxFQUFFLE9BQU87WUFDcEIsT0FBTyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU87WUFDekMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1NBQ3JELENBQUM7UUFDRixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLCtCQUErQjtRQUMxRCwrRkFBK0Y7UUFDbkYsRUFBQyxVQUFVLEVBQUUsOEJBQThCLEVBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDbkYsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0tBRUQsVUFBVSxDQUFDLDZCQUE2QixFQUFFLFVBQVMsTUFBTSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFDekYsT0FBTztJQUNYLE1BQU0sQ0FBQyxLQUFLLEdBQUc7UUFDWCxPQUFPLEVBQUUsY0FBYztRQUN2QixRQUFRLEVBQUUsSUFBSTtRQUNkLFlBQVksRUFBRSxFQUFFO0tBQ25CLENBQUM7SUFDRixNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxPQUFPLEdBQUc7UUFDYixFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLCtCQUErQixFQUFDO1FBQ3ZELEVBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsZ0NBQWdDLEVBQUM7UUFDekQsRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSw2QkFBNkIsRUFBQztRQUNuRCxFQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsR0FBRyxFQUFFLHFDQUFxQyxFQUFDO1FBQ25FLEVBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsZ0NBQWdDLEVBQUM7UUFDekQsRUFBQyxLQUFLLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBRSxtQ0FBbUMsRUFBQztRQUMvRCxFQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLGlDQUFpQyxFQUFDO1FBQzNELEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsNkJBQTZCLEVBQUM7UUFDbkQsRUFBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxpQ0FBaUMsRUFBQztRQUMzRCxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLCtCQUErQixFQUFDO1FBQ3ZELEVBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsa0NBQWtDLEVBQUM7UUFDN0QsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSwrQkFBK0IsRUFBQztRQUN2RCxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLCtCQUErQixFQUFDO0tBQzFELENBQUM7SUFDRixNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztJQUU3QywyRUFBMkU7SUFDdkUsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxhQUFhLEVBQUU7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLDhCQUE4QixDQUFDLEdBQUcsVUFBUyxHQUFHO1lBQ2xGLElBQUksQ0FBQyxLQUFLLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ1YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDNUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzVCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN0RixDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUM7SUFDTixDQUFDLEVBQUUsVUFBUyxHQUFHO1FBQ1gsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1IsTUFBTSxDQUFDLE1BQU0sR0FBRztRQUNaLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDdEUsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxxQ0FBcUMsRUFDcEQsRUFBQyxVQUFVLEVBQUUsOEJBQThCLEVBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3BGLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztLQUNELFVBQVUsQ0FBQyw0QkFBNEIsRUFBRSxVQUFTLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUTtJQUNyRyxNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUc7UUFDVixPQUFPLEVBQUUsYUFBYTtRQUN0QixLQUFLLEVBQUUsa0VBQWtFO1lBQ3JFLGNBQWM7S0FDckIsQ0FBQztJQUVGLElBQUksU0FBUyxHQUFHLHFDQUFxQyxDQUFDO0lBQzFELDJFQUEyRTtJQUN2RSxJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEQsTUFBTSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLGFBQWEsRUFBRTtRQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsVUFBUyxHQUFHO1lBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ1YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDNUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzVCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN0RixDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUM7SUFDTixDQUFDLEVBQUUsVUFBUyxHQUFHO1FBQ1gsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1IsTUFBTSxDQUFDLE1BQU0sR0FBRztRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNuRSxNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFDQUFxQyxFQUNwRCxFQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztLQUNELFVBQVUsQ0FBQyw2QkFBNkIsRUFBRSxVQUFTLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUTtJQUN0RyxNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUc7UUFDVixPQUFPLEVBQUUsbUJBQW1CO1FBQzVCLGNBQWMsRUFBRSxrQkFBa0I7UUFDbEMsWUFBWSxFQUFFLEVBQUU7S0FDbkIsQ0FBQztJQUVGLElBQUksU0FBUyxHQUFHLHVDQUF1QyxDQUFDO0lBQzVELDJFQUEyRTtJQUN2RSxJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEQsTUFBTSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLGFBQWEsRUFBRTtRQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsVUFBUyxHQUFHO1lBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ1YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDNUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzVCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN0RixDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUM7SUFDTixDQUFDLEVBQUUsVUFBUyxHQUFHO1FBQ1gsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1IsTUFBTSxDQUFDLE1BQU0sR0FBRztRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsd0NBQXdDLEVBQ3ZELEVBQUMsVUFBVSxFQUFFLFNBQVMsRUFBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUQsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0tBQ0QsVUFBVSxDQUFDLDZCQUE2QixFQUFFLFVBQVMsTUFBTSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRO0lBQ3RHLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7SUFDakMsTUFBTSxDQUFDLElBQUksR0FBRztRQUNWLE9BQU8sRUFBRSxtQkFBbUI7UUFDNUIsY0FBYyxFQUFFLGtCQUFrQjtRQUNsQyxZQUFZLEVBQUUsRUFBRTtLQUNuQixDQUFDO0lBRUYsSUFBSSxTQUFTLEdBQUcsdUNBQXVDLENBQUM7SUFDNUQsMkVBQTJFO0lBQ3ZFLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO1FBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxVQUFTLEdBQUc7WUFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDVixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUM7b0JBQy9CLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2dCQUM1QixDQUFDO2dCQUFDLElBQUksQ0FBQyxDQUFDO29CQUNKLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDNUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3RGLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQztJQUNOLENBQUMsRUFBRSxVQUFTLEdBQUc7UUFDWCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNoQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN6QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDUixNQUFNLENBQUMsTUFBTSxHQUFHO1FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDekUsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsRUFDdkQsRUFBQyxVQUFVLEVBQUUsU0FBUyxFQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7S0FDRCxVQUFVLENBQUMsNkJBQTZCLEVBQUUsVUFBUyxNQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVE7SUFDdEcsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQztJQUNqQyxNQUFNLENBQUMsSUFBSSxHQUFHO1FBQ1YsT0FBTyxFQUFFLG1CQUFtQjtRQUM1QixjQUFjLEVBQUUsa0JBQWtCO1FBQ2xDLFlBQVksRUFBRSxFQUFFO0tBQ25CLENBQUM7SUFFRixJQUFJLFNBQVMsR0FBRyx1Q0FBdUMsQ0FBQztJQUM1RCwyRUFBMkU7SUFDdkUsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxhQUFhLEVBQUU7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFVBQVMsR0FBRztZQUM3RCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsRCxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNWLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNoQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztvQkFDL0IsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQzVCLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ0osSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ3RELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUM1QixPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDdEYsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxFQUFFLFVBQVMsR0FBRztRQUNYLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNSLE1BQU0sQ0FBQyxNQUFNLEdBQUc7UUFDWixJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6RSxNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHdDQUF3QyxFQUN2RCxFQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztLQUNELFVBQVUsQ0FBQywrQkFBK0IsRUFBRSxVQUFTLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUTtJQUN4RyxNQUFNLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxJQUFJLEdBQUc7UUFDVixPQUFPLEVBQUUscUJBQXFCO1FBQzlCLGNBQWMsRUFBRSxrQkFBa0I7UUFDbEMsWUFBWSxFQUFFLEVBQUU7S0FDbkIsQ0FBQztJQUVGLElBQUksU0FBUyxHQUFHLHlDQUF5QyxDQUFDO0lBQzlELDJFQUEyRTtJQUN2RSxJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEQsTUFBTSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLGFBQWEsRUFBRTtRQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuRCxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsVUFBUyxHQUFHO1lBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ1YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDNUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzVCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN0RixDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUM7SUFDTixDQUFDLEVBQUUsVUFBUyxHQUFHO1FBQ1gsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1IsTUFBTSxDQUFDLE1BQU0sR0FBRztRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNFLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsd0NBQXdDLEVBQ3ZELEVBQUMsVUFBVSxFQUFFLFNBQVMsRUFBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUQsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0tBQ0QsVUFBVSxDQUFDLCtCQUErQixFQUFFLFVBQVMsTUFBTSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRO0lBQ3hHLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBQyxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7SUFDakMsTUFBTSxDQUFDLElBQUksR0FBRztRQUNWLE9BQU8sRUFBRSxxQkFBcUI7UUFDOUIsY0FBYyxFQUFFLGtCQUFrQjtRQUNsQyxZQUFZLEVBQUUsRUFBRTtLQUNuQixDQUFDO0lBRUYsSUFBSSxTQUFTLEdBQUcseUNBQXlDLENBQUM7SUFDOUQsMkVBQTJFO0lBQ3ZFLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDM0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO1FBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxVQUFTLEdBQUc7WUFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDVixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUM7b0JBQy9CLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2dCQUM1QixDQUFDO2dCQUFDLElBQUksQ0FBQyxDQUFDO29CQUNKLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDNUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3RGLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQztJQUNOLENBQUMsRUFBRSxVQUFTLEdBQUc7UUFDWCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNoQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN6QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDUixNQUFNLENBQUMsTUFBTSxHQUFHO1FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDM0UsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsRUFDdkQsRUFBQyxVQUFVLEVBQUUsU0FBUyxFQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMsQ0FFRCIsImZpbGUiOiJwZXJzaXN0ZW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL21haW4uZC50c1wiLz5cclxuYW5ndWxhci5tb2R1bGUoJ3N0YXJ0ZXIuY29udHJvbGxlcnMnKVxyXG5cclxuLmNvbnRyb2xsZXIoJ1BlcnNpc3RlbmNlRmFjdEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGxvZywgTHVtZW5TdG9tcCwgU2V0dGluZ3MsICR3aW5kb3cpIHtcclxuICAgICRzY29wZS5sb2NhbGVzID0gW1xyXG4gICAgICAgIHtpZDogJ2lkLUlEJywgbmFtZTogJ0luZG9uZXNpYW4nfSxcclxuICAgICAgICB7aWQ6ICdlbi1VUycsIG5hbWU6ICdFbmdsaXNoIChVbml0ZWQgU3RhdGVzKSd9XHJcbiAgICBdO1xyXG4gICAgJHNjb3BlLmZvcm0gPSB7XHJcbiAgICAgICAgbWF0Y2hSZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgIGluTGFuZ3VhZ2U6ICRzY29wZS5sb2NhbGVzWzBdXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc3dpdGNoQXZhdGFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgTHVtZW5TdG9tcC51bnN1YnNjcmliZUFsbCgpO1xyXG4gICAgICAgIEx1bWVuU3RvbXAuc3Vic2NyaWJlKCcvdG9waWMvbHVtZW4ucGVyc2lzdGVuY2UuZmFjdC5yZXBseScsIGZ1bmN0aW9uKGluTXNnKSB7XHJcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShpbk1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJGxvZy5pbmZvKFwiUmVjZWl2ZWQgcmVzcG9uc2VcIiwganNvbik7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ1JlY2VpdmVkIHJlc3BvbnNlOiAnICsgaW5Nc2cpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgTHVtZW5TdG9tcC5jb25uZWN0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2xpZW50ID0gTHVtZW5TdG9tcC5nZXRDbGllbnQoKTtcclxuICAgICAgICAgICAgJHNjb3BlLnN3aXRjaEF2YXRhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmJlZm9yZUxlYXZlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgTHVtZW5TdG9tcC5kaXNjb25uZWN0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUubWF0Y2hCdG4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZmFjdFJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgICdAdHlwZSc6ICdGYWN0UmVxdWVzdCcsXHJcbiAgICAgICAgICAgICdvcGVyYXRpb24nOiAnbWF0Y2gnLFxyXG4gICAgICAgICAgICB1cExhYmVsOiAkc2NvcGUuZm9ybS5tYXRjaFJlcXVlc3QudXBMYWJlbCxcclxuICAgICAgICAgICAgaW5MYW5ndWFnZTogJHNjb3BlLmZvcm0ubWF0Y2hSZXF1ZXN0LmluTGFuZ3VhZ2UuaWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkbG9nLmluZm8oJ21hdGNoJywgZmFjdFJlcXVlc3QsIEpTT04uc3RyaW5naWZ5KGZhY3RSZXF1ZXN0KSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zZW5kKCcvdG9waWMvbHVtZW4ucGVyc2lzdGVuY2UuZmFjdCcsXHJcbi8vICAgICAgICAgICAge1wicmVwbHktdG9cIjogJy90ZW1wLXF1ZXVlL2x1bWVuLnBlcnNpc3RlbmNlLmZhY3QnfSwgSlNPTi5zdHJpbmdpZnkoZmFjdFJlcXVlc3QpKTtcclxuICAgICAgICAgICAge1wicmVwbHktdG9cIjogJ2x1bWVuLnBlcnNpc3RlbmNlLmZhY3QucmVwbHknfSwgSlNPTi5zdHJpbmdpZnkoZmFjdFJlcXVlc3QpKTtcclxuICAgIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignUGVyc2lzdGVuY2VRdWVyeUZpbmRBbGxDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRsb2csIG5nc3RvbXAsIFNldHRpbmdzLFxyXG4gICAgICAgICR3aW5kb3cpIHtcclxuICAgICRzY29wZS5xdWVyeSA9IHtcclxuICAgICAgICAnQHR5cGUnOiAnRmluZEFsbFF1ZXJ5JyxcclxuICAgICAgICBjbGFzc1JlZjogbnVsbCxcclxuICAgICAgICBpdGVtc1BlclBhZ2U6IDI1XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnJlc291cmNlcyA9IHtjb250ZW50OiBbXX07XHJcbiAgICAkc2NvcGUuY2xhc3NlcyA9IFtcclxuICAgICAgICB7bGFiZWw6IFwicGVyc29uXCIsIHJlZjogJ3lhZ286d29yZG5ldF9wZXJzb25fMTAwMDA3ODQ2J30sXHJcbiAgICAgICAge2xhYmVsOiBcImNvdW50cnlcIiwgcmVmOiAneWFnbzp3b3JkbmV0X2NvdW50cnlfMTA4NTQ0ODEzJ30sXHJcbiAgICAgICAge2xhYmVsOiBcImFyZWFcIiwgcmVmOiAneWFnbzp3b3JkbmV0X2FyZWFfMTA4NDk3Mjk0J30sXHJcbiAgICAgICAge2xhYmVsOiBcIm9yZ2FuaXphdGlvblwiLCByZWY6ICd5YWdvOndvcmRuZXRfb3JnYW5pemF0aW9uXzEwODAwODMzNSd9LFxyXG4gICAgICAgIHtsYWJlbDogXCJhbHVtbnVzXCIsIHJlZjogJ3lhZ286d29yZG5ldF9hbHVtbnVzXzEwOTc4NjMzOCd9LFxyXG4gICAgICAgIHtsYWJlbDogXCJ1bml2ZXJzaXR5XCIsIHJlZjogJ3lhZ286d29yZG5ldF91bml2ZXJzaXR5XzEwODI4NjU2OSd9LFxyXG4gICAgICAgIHtsYWJlbDogXCJtb3VudGFpblwiLCByZWY6ICd5YWdvOndvcmRuZXRfbW91bnRhaW5fMTA5MzU5ODAzJ30sXHJcbiAgICAgICAge2xhYmVsOiBcImxha2VcIiwgcmVmOiAneWFnbzp3b3JkbmV0X2xha2VfMTA5MzI4OTA0J30sXHJcbiAgICAgICAge2xhYmVsOiBcImJ1aWxkaW5nXCIsIHJlZjogJ3lhZ286d29yZG5ldF9idWlsZGluZ18xMDI5MTMxNTInfSxcclxuICAgICAgICB7bGFiZWw6IFwiaXNsYW5kXCIsIHJlZjogJ3lhZ286d29yZG5ldF9pc2xhbmRfMTA5MzE2NDU0J30sXHJcbiAgICAgICAge2xhYmVsOiBcImNvbnRpbmVudFwiLCByZWY6ICd5YWdvOndvcmRuZXRfY29udGluZW50XzEwOTI1NDYxNCd9LFxyXG4gICAgICAgIHtsYWJlbDogXCJwbGFuZXRcIiwgcmVmOiAneWFnbzp3b3JkbmV0X3BsYW5ldF8xMDkzOTQwMDcnfSxcclxuICAgICAgICB7bGFiZWw6IFwiZ2FsYXh5XCIsIHJlZjogJ3lhZ286d29yZG5ldF9nYWxheHlfMTA4MjcwOTM4J31cclxuICAgIF07XHJcbiAgICAkc2NvcGUuZm9ybSA9IHtjbGFzczogJHNjb3BlLmNsYXNzZXNbMF19O1xyXG5cclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zWycvdGVtcC1xdWV1ZS9wZXJzaXN0ZW5jZS5mYWN0J10gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgL3RlbXAtcXVldWUvcGVyc2lzdGVuY2UuZmFjdDonLCBtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UobXNnLmJvZHkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb25bJ0B0eXBlJ10gPT0gJ1Jlc291cmNlcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0ganNvbjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcihqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcihqc29uLnN0YWNrVHJhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoanNvbi5leGNlcHRpb25DbGFzcyArICc6ICcgKyBqc29uLm1lc3NhZ2UgKyAnXFxuJyArIGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAkbG9nLmVycm9yKCdTdG9tcCBlcnJvcjonLCBlcnIpO1xyXG4gICAgICAgICRzY29wZS5jbGllbnQgPSBudWxsO1xyXG4gICAgfSwgJy8nKTtcclxuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUucXVlcnkuY2xhc3NSZWYgPSAkc2NvcGUuZm9ybS5jbGFzcy5yZWY7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdGaW5kQWxsUXVlcnknLCAkc2NvcGUucXVlcnksIEpTT04uc3RyaW5naWZ5KCRzY29wZS5xdWVyeSkpO1xyXG4gICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSB7Y29udGVudDogW119O1xyXG4gICAgICAgICRzY29wZS5jbGllbnQuc2VuZCgnL3RvcGljL2x1bWVuLmFya2FuLnBlcnNpc3RlbmNlLmZhY3QnLFxyXG4gICAgICAgICAgICB7XCJyZXBseS10b1wiOiAnL3RlbXAtcXVldWUvcGVyc2lzdGVuY2UuZmFjdCd9LCBKU09OLnN0cmluZ2lmeSgkc2NvcGUucXVlcnkpKTtcclxuICAgIH07XHJcbn0pXHJcbi5jb250cm9sbGVyKCdQZXJzaXN0ZW5jZVF1ZXJ5Q3lwaGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkbG9nLCAkd2luZG93LCBuZ3N0b21wLCBTZXR0aW5ncykge1xyXG4gICAgJHNjb3BlLnJlc291cmNlcyA9IHtjb250ZW50OiBbXX07XHJcbiAgICAkc2NvcGUuZm9ybSA9IHtcclxuICAgICAgICAnQHR5cGUnOiAnQ3lwaGVyUXVlcnknLFxyXG4gICAgICAgIHF1ZXJ5OiAnTUFUQ0ggKG46UmVzb3VyY2Uge2hyZWY6IFxcJ2x1bWVuOkJ1ZGhpX1l1bGlhbnRvXFwnfSkgLVtyXS0+ICh4KVxcbicgK1xyXG4gICAgICAgICAgICAnUkVUVVJOIHIsIHg7J1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdGVtcFF1ZXVlID0gJy90ZW1wLXF1ZXVlL3BlcnNpc3RlbmNlLmZhY3QuY3lwaGVyJztcclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zW3RlbXBRdWV1ZV0gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgJywgdGVtcFF1ZXVlLCAnOicsIG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoanNvblsnQHR5cGUnXSA9PSAnUmVzb3VyY2VzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSBqc29uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSArICdcXG4nICsganNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRsb2cuZXJyb3IoJ1N0b21wIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudCA9IG51bGw7XHJcbiAgICB9LCAnLycpO1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRsb2cuaW5mbygnQ3lwaGVyUXVlcnknLCAkc2NvcGUuZm9ybSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0ge2NvbnRlbnQ6IFtdfTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50LnNlbmQoJy90b3BpYy9sdW1lbi5hcmthbi5wZXJzaXN0ZW5jZS5mYWN0JyxcclxuICAgICAgICAgICAge1wicmVwbHktdG9cIjogdGVtcFF1ZXVlfSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgIH07XHJcbn0pXHJcbi5jb250cm9sbGVyKCdQZXJzaXN0ZW5jZUpvdXJuYWxJbWFnZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGxvZywgJHdpbmRvdywgbmdzdG9tcCwgU2V0dGluZ3MpIHtcclxuICAgICRzY29wZS5yZXNvdXJjZXMgPSB7Y29udGVudDogW119O1xyXG4gICAgJHNjb3BlLmZvcm0gPSB7XHJcbiAgICAgICAgJ0B0eXBlJzogJ0pvdXJuYWxJbWFnZVF1ZXJ5JyxcclxuICAgICAgICBtYXhEYXRlQ3JlYXRlZDogJzIwMTUtMDItMjZUMTY6MTEnLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogMjVcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRlbXBRdWV1ZSA9ICcvdGVtcC1xdWV1ZS9wZXJzaXN0ZW5jZS5qb3VybmFsLmltYWdlJztcclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zW3RlbXBRdWV1ZV0gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgJywgdGVtcFF1ZXVlLCAnOicsIG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoanNvblsnQHR5cGUnXSA9PSAnUmVzb3VyY2VzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSBqc29uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSArICdcXG4nICsganNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRsb2cuZXJyb3IoJ1N0b21wIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudCA9IG51bGw7XHJcbiAgICB9LCAnLycpO1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRsb2cuaW5mbygnSm91cm5hbEltYWdlUXVlcnknLCAkc2NvcGUuZm9ybSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0ge2NvbnRlbnQ6IFtdfTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50LnNlbmQoJy90b3BpYy9sdW1lbi5hcmthbi5wZXJzaXN0ZW5jZS5qb3VybmFsJyxcclxuICAgICAgICAgICAge1wicmVwbHktdG9cIjogdGVtcFF1ZXVlfSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgIH07XHJcbn0pXHJcbi5jb250cm9sbGVyKCdQZXJzaXN0ZW5jZUpvdXJuYWxKb2ludEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGxvZywgJHdpbmRvdywgbmdzdG9tcCwgU2V0dGluZ3MpIHtcclxuICAgICRzY29wZS5yZXNvdXJjZXMgPSB7Y29udGVudDogW119O1xyXG4gICAgJHNjb3BlLmZvcm0gPSB7XHJcbiAgICAgICAgJ0B0eXBlJzogJ0pvdXJuYWxKb2ludFF1ZXJ5JyxcclxuICAgICAgICBtYXhEYXRlQ3JlYXRlZDogJzIwMTUtMDItMTdUMTY6MTEnLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogMjVcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRlbXBRdWV1ZSA9ICcvdGVtcC1xdWV1ZS9wZXJzaXN0ZW5jZS5qb3VybmFsLmpvaW50JztcclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zW3RlbXBRdWV1ZV0gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgJywgdGVtcFF1ZXVlLCAnOicsIG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoanNvblsnQHR5cGUnXSA9PSAnUmVzb3VyY2VzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSBqc29uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSArICdcXG4nICsganNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRsb2cuZXJyb3IoJ1N0b21wIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudCA9IG51bGw7XHJcbiAgICB9LCAnLycpO1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRsb2cuaW5mbygnSm91cm5hbEpvaW50UXVlcnknLCAkc2NvcGUuZm9ybSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0ge2NvbnRlbnQ6IFtdfTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50LnNlbmQoJy90b3BpYy9sdW1lbi5hcmthbi5wZXJzaXN0ZW5jZS5qb3VybmFsJyxcclxuICAgICAgICAgICAge1wicmVwbHktdG9cIjogdGVtcFF1ZXVlfSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgIH07XHJcbn0pXHJcbi5jb250cm9sbGVyKCdQZXJzaXN0ZW5jZUpvdXJuYWxTb25hckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGxvZywgJHdpbmRvdywgbmdzdG9tcCwgU2V0dGluZ3MpIHtcclxuICAgICRzY29wZS5yZXNvdXJjZXMgPSB7Y29udGVudDogW119O1xyXG4gICAgJHNjb3BlLmZvcm0gPSB7XHJcbiAgICAgICAgJ0B0eXBlJzogJ0pvdXJuYWxTb25hclF1ZXJ5JyxcclxuICAgICAgICBtYXhEYXRlQ3JlYXRlZDogJzIwMTUtMDItMTdUMTY6MTEnLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogMjVcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRlbXBRdWV1ZSA9ICcvdGVtcC1xdWV1ZS9wZXJzaXN0ZW5jZS5qb3VybmFsLnNvbmFyJztcclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zW3RlbXBRdWV1ZV0gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgJywgdGVtcFF1ZXVlLCAnOicsIG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoanNvblsnQHR5cGUnXSA9PSAnUmVzb3VyY2VzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSBqc29uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSArICdcXG4nICsganNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRsb2cuZXJyb3IoJ1N0b21wIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudCA9IG51bGw7XHJcbiAgICB9LCAnLycpO1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRsb2cuaW5mbygnSm91cm5hbFNvbmFyUXVlcnknLCAkc2NvcGUuZm9ybSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0ge2NvbnRlbnQ6IFtdfTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50LnNlbmQoJy90b3BpYy9sdW1lbi5hcmthbi5wZXJzaXN0ZW5jZS5qb3VybmFsJyxcclxuICAgICAgICAgICAge1wicmVwbHktdG9cIjogdGVtcFF1ZXVlfSwgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmZvcm0pKTtcclxuICAgIH07XHJcbn0pXHJcbi5jb250cm9sbGVyKCdQZXJzaXN0ZW5jZUpvdXJuYWxUYWN0aWxlQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkbG9nLCAkd2luZG93LCBuZ3N0b21wLCBTZXR0aW5ncykge1xyXG4gICAgJHNjb3BlLnJlc291cmNlcyA9IHtjb250ZW50OiBbXX07XHJcbiAgICAkc2NvcGUuZm9ybSA9IHtcclxuICAgICAgICAnQHR5cGUnOiAnSm91cm5hbFRhY3RpbGVRdWVyeScsXHJcbiAgICAgICAgbWF4RGF0ZUNyZWF0ZWQ6ICcyMDE1LTAyLTE3VDE2OjExJyxcclxuICAgICAgICBpdGVtc1BlclBhZ2U6IDI1XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZW1wUXVldWUgPSAnL3RlbXAtcXVldWUvcGVyc2lzdGVuY2Uuam91cm5hbC50YWN0aWxlJztcclxuLy8gICAgdmFyIHN0b21wVXJpID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJzoxNTY3NC9zdG9tcCc7XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBTZXR0aW5ncy5nZXRTZXR0aW5ncygpO1xyXG4gICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0aW5nIHRvJywgc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudCA9IG5nc3RvbXAoc2V0dGluZ3Muc3RvbXBVcmkpO1xyXG4gICAgJHNjb3BlLmNsaWVudC5jb25uZWN0KHNldHRpbmdzLnN0b21wVXNlciwgc2V0dGluZ3Muc3RvbXBQYXNzd29yZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdTdG9tcCBjb25uZWN0ZWQgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zdG9tcENsaWVudC5zdWJzY3JpcHRpb25zW3RlbXBRdWV1ZV0gPSBmdW5jdGlvbihtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnUmVjZWl2ZWQgJywgdGVtcFF1ZXVlLCAnOicsIG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShtc2cuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoanNvblsnQHR5cGUnXSA9PSAnUmVzb3VyY2VzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSBqc29uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGpzb24uc3RhY2tUcmFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChqc29uLmV4Y2VwdGlvbkNsYXNzICsgJzogJyArIGpzb24ubWVzc2FnZSArICdcXG4nICsganNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRsb2cuZXJyb3IoJ1N0b21wIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudCA9IG51bGw7XHJcbiAgICB9LCAnLycpO1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRsb2cuaW5mbygnSm91cm5hbFRhY3RpbGVRdWVyeScsICRzY29wZS5mb3JtLCBKU09OLnN0cmluZ2lmeSgkc2NvcGUuZm9ybSkpO1xyXG4gICAgICAgICRzY29wZS5yZXNvdXJjZXMgPSB7Y29udGVudDogW119O1xyXG4gICAgICAgICRzY29wZS5jbGllbnQuc2VuZCgnL3RvcGljL2x1bWVuLmFya2FuLnBlcnNpc3RlbmNlLmpvdXJuYWwnLFxyXG4gICAgICAgICAgICB7XCJyZXBseS10b1wiOiB0ZW1wUXVldWV9LCBKU09OLnN0cmluZ2lmeSgkc2NvcGUuZm9ybSkpO1xyXG4gICAgfTtcclxufSlcclxuLmNvbnRyb2xsZXIoJ1BlcnNpc3RlbmNlSm91cm5hbEJhdHRlcnlDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRsb2csICR3aW5kb3csIG5nc3RvbXAsIFNldHRpbmdzKSB7XHJcbiAgICAkc2NvcGUucmVzb3VyY2VzID0ge2NvbnRlbnQ6IFtdfTtcclxuICAgICRzY29wZS5mb3JtID0ge1xyXG4gICAgICAgICdAdHlwZSc6ICdKb3VybmFsQmF0dGVyeVF1ZXJ5JyxcclxuICAgICAgICBtYXhEYXRlQ3JlYXRlZDogJzIwMTUtMDItMTdUMTY6MTEnLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogMjVcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRlbXBRdWV1ZSA9ICcvdGVtcC1xdWV1ZS9wZXJzaXN0ZW5jZS5qb3VybmFsLmJhdHRlcnknO1xyXG4vLyAgICB2YXIgc3RvbXBVcmkgPSAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnOjE1Njc0L3N0b21wJztcclxuICAgIHZhciBzZXR0aW5ncyA9IFNldHRpbmdzLmdldFNldHRpbmdzKCk7XHJcbiAgICAkbG9nLmluZm8oJ1N0b21wIGNvbm5lY3RpbmcgdG8nLCBzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAkc2NvcGUuY2xpZW50ID0gbmdzdG9tcChzZXR0aW5ncy5zdG9tcFVyaSk7XHJcbiAgICAkc2NvcGUuY2xpZW50LmNvbm5lY3Qoc2V0dGluZ3Muc3RvbXBVc2VyLCBzZXR0aW5ncy5zdG9tcFBhc3N3b3JkLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkbG9nLmluZm8oJ1N0b21wIGNvbm5lY3RlZCB0bycsIHNldHRpbmdzLnN0b21wVXJpKTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50LnN0b21wQ2xpZW50LnN1YnNjcmlwdGlvbnNbdGVtcFF1ZXVlXSA9IGZ1bmN0aW9uKG1zZykge1xyXG4gICAgICAgICAgICAkbG9nLmRlYnVnKCdSZWNlaXZlZCAnLCB0ZW1wUXVldWUsICc6JywgbXNnLmJvZHkpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKG1zZy5ib2R5KTtcclxuICAgICAgICAgICAgICAgIGlmIChqc29uWydAdHlwZSddID09ICdSZXNvdXJjZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc291cmNlcyA9IGpzb247XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoanNvbi5leGNlcHRpb25DbGFzcyArICc6ICcgKyBqc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoanNvbi5zdGFja1RyYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGpzb24uZXhjZXB0aW9uQ2xhc3MgKyAnOiAnICsganNvbi5tZXNzYWdlICsgJ1xcbicgKyBqc29uLnN0YWNrVHJhY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgJGxvZy5lcnJvcignU3RvbXAgZXJyb3I6JywgZXJyKTtcclxuICAgICAgICAkc2NvcGUuY2xpZW50ID0gbnVsbDtcclxuICAgIH0sICcvJyk7XHJcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGxvZy5pbmZvKCdKb3VybmFsQmF0dGVyeVF1ZXJ5JywgJHNjb3BlLmZvcm0sIEpTT04uc3RyaW5naWZ5KCRzY29wZS5mb3JtKSk7XHJcbiAgICAgICAgJHNjb3BlLnJlc291cmNlcyA9IHtjb250ZW50OiBbXX07XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudC5zZW5kKCcvdG9waWMvbHVtZW4uYXJrYW4ucGVyc2lzdGVuY2Uuam91cm5hbCcsXHJcbiAgICAgICAgICAgIHtcInJlcGx5LXRvXCI6IHRlbXBRdWV1ZX0sIEpTT04uc3RyaW5naWZ5KCRzY29wZS5mb3JtKSk7XHJcbiAgICB9O1xyXG59KVxyXG5cclxuOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
