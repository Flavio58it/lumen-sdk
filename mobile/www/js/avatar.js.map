{"version":3,"sources":["avatar.ts"],"names":[],"mappings":"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","file":"avatar.js","sourcesContent":["/// <reference path=\"../typings/main.d.ts\"/>\n/// <reference path=\"services.ts\"/>\nangular.module('starter.controllers')\n\n.controller('AvatarRemoteControlCtrl', function($scope, $stateParams, $log, $window, Settings,\n        LumenStomp: Services.LumenStomp) {\n    var vm = this;\n    var settings = Settings.getSettings();\n\n    this.client = null;\n    this.avatarIds = ['nao1', 'nao2',\n        'anime1', 'anime2', 'anime3', 'anime4', 'anime5', 'anime6', 'anime7', 'anime8', 'anime9', 'anime10'];\n    this.motionAllowed = settings.motionAllowed || false;\n    this.joints = [\n        // Head\n        {id: 'HeadYaw'},\n        {id: 'HeadPitch'},\n        // RArm\n        {id: 'RShoulderRoll'},\n        {id: 'RShoulderPitch'},\n        {id: 'RElbowYaw'},\n        {id: 'RElbowRoll'},\n        {id: 'RWristYaw'},\n        {id: 'RHand'},\n        // LArm\n        {id: 'LShoulderRoll'},\n        {id: 'LShoulderPitch'},\n        {id: 'LElbowYaw'},\n        {id: 'LElbowRoll'},\n        {id: 'LWristYaw'},\n        {id: 'LHand'},\n        // RLeg\n        {id: 'RHipPitch'},\n        {id: 'RHipRoll'},\n        {id: 'RKneePitch'},\n        {id: 'RAnklePitch'},\n        {id: 'RAnkleRoll'},\n        // LLeg\n        {id: 'LHipYawPitch'},\n        {id: 'LHipPitch'},\n        {id: 'LHipRoll'},\n        {id: 'LKneePitch'},\n        {id: 'LAnklePitch'},\n        {id: 'LAnkleRoll'}\n    ];\n    this.leds = [\n        {id: 'FaceLeds'},\n        {id: 'AllLeds'},\n    ];\n    this.actingScripts = [\n        {id: 'GOOD_BYE'},\n        {id: 'PHOTO_POSE'},\n        {id: 'DANCE_GANGNAM'},\n        {id: 'SING_MANUK'},\n        {id: 'SING_UPTOWN'},\n    ];\n    this.locales = [\n        {id: 'en-US', name: 'English (US)'},\n        {id: 'en-UK', name: 'English (UK)'},\n        {id: 'en-AU', name: 'English (Australia)'},\n        {id: 'id-ID', name: 'Indonesian'},\n        {id: 'ar-SA', name: 'Arabic'}\n    ];\n    this.emotionKinds = [\n        {id: 'NEUTRAL', name: 'Neutral'},\n        {id: 'JOY', name: 'Joy'},\n        {id: 'ANGER', name: 'Anger'},\n        {id: 'SADNESS', name: 'Sadness'}\n    ];\n    this.form = {\n        avatarId: 'nao1',\n        audioVolume: 0.8,\n        // Speech\n        speech: {\n            synthesis: {\n                inLanguage: this.locales[0],\n                emotionKind: this.emotionKinds[0],\n                object: \"Hello I am Arkan Lumen from Bandung Institute of Technology. What can I help you?\",\n            }\n        },\n        // Audio\n        audio: {\n            inLanguage: this.locales[3],\n            contentUrl: 'file:///home/nao/gangnam.mp3',\n            recordDuration: 5.0,\n            usedForChat: true\n        },\n        // Actor\n        actor: {\n            actingScript: this.actingScripts[2]\n        },\n        // Motion\n        speed: 0.7,\n        moveTo: {\n            backDistance: -0.1,\n            rightDistance: 0,\n            turnCcwDeg: 0\n        },\n        interpolateAngle: {\n            joint: this.joints[0],\n            targetCcwDeg: 0, // HeadYaw Range: -85 (right)..85 (left) degrees\n            duration: 3, // seconds\n        },\n        leds: {\n            led: this.leds[0],\n            color: '#ff0000',\n            intensity: 1.0,\n            duration: 3.0, // seconds\n        }\n    };\n\n    // Avatar\n    this.switchAvatar = function() {\n        LumenStomp.unsubscribeAll();\n        // RecordAudio\n        LumenStomp.subscribe('/topic/avatar.' + vm.form.avatarId + '.audio.in', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            $log.info(\"Received audio\", msg.name, msg.contentType, msg.contentSize, 'bytes');\n            (document.getElementById('recorded') as HTMLMediaElement).src = msg.contentUrl;\n            vm.replayRecorded();\n        });\n        // Speech Recognition\n        LumenStomp.subscribe('/topic/lumen.speech.recognition', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            $log.info(\"Received recognized speech\", msg);\n            vm.recognizedSpeech = msg;\n        });\n        // audio.out: AudioObject\n        LumenStomp.subscribe('/topic/avatar.' + vm.form.avatarId + '.audio.out', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            $log.info(\"Received audio\", msg.name, msg.contentType, msg.contentSize, 'bytes');\n            (document.getElementById('played') as HTMLMediaElement).src = msg.contentUrl;\n            vm.replayPlayed();\n        });\n        $log.info('Subscriptions:', LumenStomp.getSubscriptions());\n    };\n\n    $scope.$on('$ionicView.enter', function() {\n        LumenStomp.connect(function() {\n            vm.client = LumenStomp.getClient();\n            vm.switchAvatar();\n        });\n    });\n    $scope.$on('$ionicView.beforeLeave', function() {\n        LumenStomp.disconnect();\n    });\n\n    // Speech Synthesis\n    this.communicateSynthesis = function() {\n        var msg = {'@type': 'CommunicateAction', avatarId: vm.form.avatarId,\n            inLanguage: vm.form.speech.synthesis.inLanguage.id,\n            emotionKind: vm.form.speech.synthesis.emotionKind.id,\n            object: vm.form.speech.synthesis.object,\n            usedForSynthesis: true};\n        $log.info('Speech Synthesis', msg, JSON.stringify(msg));\n        vm.client.send('/topic/lumen.speech.synthesis',\n            {\"reply-to\": '/temp-queue/lumen.speech.synthesis'}, JSON.stringify(msg));\n    };\n    this.communicateChat = function() {\n        var msg = {'@type': 'CommunicateAction', avatarId: vm.form.avatarId,\n            inLanguage: vm.form.speech.synthesis.inLanguage.id,\n            emotionKind: vm.form.speech.synthesis.emotionKind.id,\n            object: vm.form.speech.synthesis.object,\n            usedForSynthesis: true};\n        $log.info('chat.outbox+synthesis', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.chat.outbox',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.chat.outbox'},\n            JSON.stringify(msg));\n    };\n\n    // Audio\n    this.changeVolume = function() {\n        var msg = {'@type': 'AudioVolume', volume: vm.form.audioVolume};\n        $log.info('Remote Control', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\n    };\n    this.playAudio = function() {\n        var msg = {\n            '@type': 'AudioObject',\n            contentUrl: vm.form.audio.contentUrl\n        };\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.out',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.out'}, JSON.stringify(msg));\n    };\n    this.stopAudio = function() {\n        var msg = {\n            '@type': 'StopAudio',\n        };\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio'}, JSON.stringify(msg));\n    };\n    this.playAudioData = function() {\n        var audioFileEl = document.getElementById('audioFile') as HTMLInputElement;\n        // {\"webkitRelativePath\":\"\",\"lastModified\":1373040168000,\"lastModifiedDate\":\"2013-07-05T16:02:48.000Z\",\"name\":\"Sate Tegal Balibul3.jpg\",\"type\":\"image/jpeg\",\"size\":42082}\n        var audioFile = audioFileEl.files[0];\n        $log.debug('Reading...', audioFileEl, audioFileEl.files, audioFile, JSON.stringify(audioFile));\n        // ImageObject: name, contentType, contentUrl, contentSize, width, height, uploadDate, dateCreated, dateModified, datePublished\n        var reader = new FileReader();\n        reader.onloadend = function() {\n            var msg = {\n                '@type': 'AudioObject',\n                name: audioFile.name,\n                contentType: audioFile.type,\n                contentSize: audioFile.size,\n                dateModified: audioFile.lastModifiedDate,\n                contentUrl: reader.result\n            };\n            $log.info('Playing audio', msg.name, '(', msg.contentSize, 'bytes)');\n            vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.out',\n                {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.out'}, JSON.stringify(msg));\n        };\n        reader.readAsDataURL(audioFile);\n    };\n    this.recordAudioFromAvatar = function() {\n        var msg = {\n            '@type': 'RecordAudio',\n            duration: vm.form.audio.recordDuration,\n            inLanguage: vm.form.audio.inLanguage.id,\n            usedForChat: vm.form.audio.usedForChat\n        };\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio'}, JSON.stringify(msg));\n    };\n    this.sendRecordedMic = function() {\n        var recordedFileEl = document.getElementById('recordedMic') as HTMLInputElement;\n        var recordedFile = recordedFileEl.files[0];\n        $log.debug('Reading...', recordedFileEl, recordedFileEl.files, recordedFile, JSON.stringify(recordedFile));\n        var reader = new FileReader();\n        reader.onloadend = function() {\n            $scope.$apply(function() {\n                var audioObject = {\n                    '@type': 'AudioObject',\n                    inLanguage: vm.form.audio.inLanguage.id,\n                    name: recordedFile.name,\n                    contentType: recordedFile.type,\n                    contentSize: recordedFile.size,\n                    dateModified: recordedFile.lastModifiedDate,\n                    contentUrl: reader.result,\n                    usedForChat: vm.form.audio.usedForChat\n                };\n                $log.info('AudioObject', audioObject, JSON.stringify(audioObject));\n                vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.in',\n                    {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.in'},\n                    JSON.stringify(audioObject));\n            });\n        };\n        reader.readAsDataURL(recordedFile);\n    };\n    this.replayRecorded = function() {\n        var recordedEl = document.getElementById('recorded') as HTMLMediaElement;\n        $log.info('Playing recorded ', recordedEl, 'seconds ...');\n        recordedEl.play();\n    };\n    this.replayPlayed = function() {\n        var playedEl = document.getElementById('played') as HTMLMediaElement;\n        $log.info('Playing played ', playedEl, 'seconds ...');\n        playedEl.play();\n    };\n\n    // Actor\n    this.act = function() {\n        var msg = {\n            '@type': 'ActingPerformance',\n            script: vm.form.actor.actingScript.id\n        };\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.acting',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.acting'}, JSON.stringify(msg));\n    };\n\n    // Motion\n    this.wakeUp = function() {\n        var wakeMsg = {'@type': 'WakeUp'};\n        $log.info('Remote Control', wakeMsg, JSON.stringify(wakeMsg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(wakeMsg));\n    };\n    this.rest = function() {\n        var restMsg = {'@type': 'Rest'};\n        $log.info('Remote Control', restMsg, JSON.stringify(restMsg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(restMsg));\n    };\n    this.changePosture = function(postureId) {\n        var msg = {'@type': 'PostureChange', postureId: postureId, speed: vm.form.speed};\n        $log.info('Remote Control', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\n    };\n\n    this.moveTo = function() {\n        var msg = {\n            '@type': \"MoveTo\",\n            'backDistance': vm.form.moveTo.backDistance,\n            'rightDistance': vm.form.moveTo.rightDistance,\n            'turnCcwDeg': vm.form.moveTo.turnCcwDeg\n        };\n        $log.info('Remote Control', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\n    };\n\n    this.jointInterpolateAngle = function() {\n        var msg = {\n            '@type': \"JointInterpolateAngle\",\n            jointId: vm.form.interpolateAngle.joint.id,\n            targetCcwDeg: vm.form.interpolateAngle.targetCcwDeg,\n            duration: vm.form.interpolateAngle.duration\n        };\n        $log.info('Remote Control', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\n    };\n\n    // LEDs\n    this.ledsOn = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'ON',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n    this.ledsOff = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'OFF',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n    this.ledsFade = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'FADE',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n    this.ledsFadeRgb = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'FADE_RGB',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n    this.ledsRandomEyes = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'RANDOM_EYES',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n    this.ledsRasta = function() {\n        var msg = {\n            '@type': 'LedOperation',\n            kind: 'RASTA',\n            names: [vm.form.leds.led.id],\n            duration: vm.form.leds.duration,\n            intensity: vm.form.leds.intensity,\n            color: vm.form.leds.color,\n        };\n        $log.info('LED', msg, JSON.stringify(msg));\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\n    };\n\n})\n.controller('AvatarInstrumentsCtrl', function($scope, $stateParams, $log, \n        LumenStomp: Services.LumenStomp, Settings: Services.Settings) {\n    var vm = this;\n    this.avatarIds = ['nao1', 'nao2',\n        'anime1', 'anime2', 'anime3', 'anime4', 'anime5', 'anime6', 'anime7', 'anime8', 'anime9', 'anime10'];\n    this.form = {\n        avatarId: 'nao1'\n    };\n    this.client = null;\n\n    // Avatar\n    this.switchAvatar = function() {\n        LumenStomp.unsubscribeAll();\n        // reset all previous values\n        this.joint = {};\n        this.sonar = {};\n        this.motion = {};\n        this.robotpose = {};\n        this.tactile = {};\n        this.battery = {};\n\n        /*LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.camera.main', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            //$log.debug('joint ', msg, JSON.stringify(msg));\n//            this.messages.push(msg);\n            exchange.body = msg;\n//            this.messages.push(exchange);\n            this.image = exchange;\n        });*/\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.joint', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            //$log.debug('joint ', msg, JSON.stringify(msg));\n//            this.messages.push(msg);\n            exchange.body = msg;\n//            this.messages.push(exchange);\n            this.joint = exchange;\n        });\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.sonar', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            //$log.debug('sonar ', msg, JSON.stringify(msg));\n//            this.messages.push(msg);\n            exchange.body = msg;\n//            this.messages.push(exchange);\n            this.sonar = exchange;\n        });\n\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.motion', function(exchange) {\n                    var msg = JSON.parse(exchange.body);\n                    //$log.debug('motion ', msg, JSON.stringify(msg));\n        //            this.messages.push(msg);\n                    exchange.body = msg;\n        //            this.messages.push(exchange);\n                    this.motion = exchange;\n                });\n\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.robotpose', function(exchange) {\n                    var msg = JSON.parse(exchange.body);\n                    //$log.debug('robotpose ', msg, JSON.stringify(msg));\n        //            this.messages.push(msg);\n                    exchange.body = msg;\n        //            this.messages.push(exchange);\n                    this.robotpose = exchange;\n                });\n\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.tactile', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            //$log.debug('tactile ', msg, JSON.stringify(msg));\n//            this.messages.push(msg);\n            exchange.body = msg;\n//            this.messages.push(exchange);\n            this.tactile = exchange;\n        });\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.battery', function(exchange) {\n            var msg = JSON.parse(exchange.body);\n            //$log.debug('battery ', msg, JSON.stringify(msg));\n//            this.messages.push(msg);\n            exchange.body = msg;\n//            this.messages.push(exchange);\n            this.battery = exchange;\n        });\n    };\n\n    $scope.$on('$ionicView.enter', function(ev) {\n        LumenStomp.connect(function() {\n            vm.client = LumenStomp.getClient();\n            vm.switchAvatar();\n        });\n    });\n    $scope.$on('$ionicView.beforeLeave', function() {\n        LumenStomp.disconnect();\n    });\n\n});\n"],"sourceRoot":"/source/"}