{"version":3,"sources":["avatar.ts"],"names":[],"mappings":"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","file":"avatar.js","sourcesContent":["/// <reference path=\"../typings/main.d.ts\"/>\r\nangular.module('starter.controllers')\r\n\r\n.controller('AvatarRemoteControlCtrl', function($scope, $stateParams, $log, $window, Settings,\r\n        LumenStomp) {\r\n    var vm = this;\r\n    var settings = Settings.getSettings();\r\n\r\n    this.client = null;\r\n    this.avatarIds = ['nao1', 'nao2',\r\n        'anime1', 'anime2', 'anime3', 'anime4', 'anime5', 'anime6', 'anime7', 'anime8', 'anime9', 'anime10'];\r\n    this.motionAllowed = settings.motionAllowed || false;\r\n    this.joints = [\r\n        // Head\r\n        {id: 'HeadYaw'},\r\n        {id: 'HeadPitch'},\r\n        // RArm\r\n        {id: 'RShoulderRoll'},\r\n        {id: 'RShoulderPitch'},\r\n        {id: 'RElbowYaw'},\r\n        {id: 'RElbowRoll'},\r\n        {id: 'RWristYaw'},\r\n        {id: 'RHand'},\r\n        // LArm\r\n        {id: 'LShoulderRoll'},\r\n        {id: 'LShoulderPitch'},\r\n        {id: 'LElbowYaw'},\r\n        {id: 'LElbowRoll'},\r\n        {id: 'LWristYaw'},\r\n        {id: 'LHand'},\r\n        // RLeg\r\n        {id: 'RHipPitch'},\r\n        {id: 'RHipRoll'},\r\n        {id: 'RKneePitch'},\r\n        {id: 'RAnklePitch'},\r\n        {id: 'RAnkleRoll'},\r\n        // LLeg\r\n        {id: 'LHipYawPitch'},\r\n        {id: 'LHipPitch'},\r\n        {id: 'LHipRoll'},\r\n        {id: 'LKneePitch'},\r\n        {id: 'LAnklePitch'},\r\n        {id: 'LAnkleRoll'}\r\n    ];\r\n    this.leds = [\r\n        {id: 'FaceLeds'},\r\n        {id: 'AllLeds'},\r\n    ];\r\n    this.actingScripts = [\r\n        {id: 'GOOD_BYE'},\r\n        {id: 'PHOTO_POSE'},\r\n        {id: 'DANCE_GANGNAM'},\r\n        {id: 'SING_MANUK'},\r\n        {id: 'SING_UPTOWN'},\r\n    ];\r\n    this.locales = [\r\n        {id: 'en-US', name: 'English (US)'},\r\n        {id: 'en-UK', name: 'English (UK)'},\r\n        {id: 'en-AU', name: 'English (Australia)'},\r\n        {id: 'id-ID', name: 'Indonesian'},\r\n        {id: 'ar-SA', name: 'Arabic'}\r\n    ];\r\n    this.emotionKinds = [\r\n        {id: 'NEUTRAL', name: 'Neutral'},\r\n        {id: 'JOY', name: 'Joy'},\r\n        {id: 'ANGER', name: 'Anger'},\r\n        {id: 'SADNESS', name: 'Sadness'}\r\n    ];\r\n    this.form = {\r\n        avatarId: 'nao1',\r\n        audioVolume: 0.8,\r\n        // Speech\r\n        speech: {\r\n            synthesis: {\r\n                inLanguage: this.locales[0],\r\n                emotionKind: this.emotionKinds[0],\r\n                object: \"Hello I am Arkan Lumen from Bandung Institute of Technology. What can I help you?\",\r\n            }\r\n        },\r\n        // Audio\r\n        audio: {\r\n            inLanguage: this.locales[3],\r\n            contentUrl: 'file:///home/nao/gangnam.mp3',\r\n            recordDuration: 5.0,\r\n            usedForChat: true\r\n        },\r\n        // Actor\r\n        actor: {\r\n            actingScript: this.actingScripts[2]\r\n        },\r\n        // Motion\r\n        speed: 0.7,\r\n        moveTo: {\r\n            backDistance: -0.1,\r\n            rightDistance: 0,\r\n            turnCcwDeg: 0\r\n        },\r\n        interpolateAngle: {\r\n            joint: this.joints[0],\r\n            targetCcwDeg: 0, // HeadYaw Range: -85 (right)..85 (left) degrees\r\n            duration: 3, // seconds\r\n        },\r\n        leds: {\r\n            led: this.leds[0],\r\n            color: '#ff0000',\r\n            intensity: 1.0,\r\n            duration: 3.0, // seconds\r\n        }\r\n    };\r\n\r\n    // Avatar\r\n    this.switchAvatar = function() {\r\n        LumenStomp.unsubscribeAll();\r\n        // RecordAudio\r\n        LumenStomp.subscribe('/topic/avatar.' + vm.form.avatarId + '.audio.in', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            $log.info(\"Received audio\", msg.name, msg.contentType, msg.contentSize, 'bytes');\r\n            (document.getElementById('recorded') as HTMLMediaElement).src = msg.contentUrl;\r\n            vm.replayRecorded();\r\n        });\r\n        // Speech Recognition\r\n        LumenStomp.subscribe('/topic/lumen.speech.recognition', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            $log.info(\"Received recognized speech\", msg);\r\n            vm.recognizedSpeech = msg;\r\n        });\r\n        // audio.out: AudioObject\r\n        LumenStomp.subscribe('/topic/avatar.' + vm.form.avatarId + '.audio.out', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            $log.info(\"Received audio\", msg.name, msg.contentType, msg.contentSize, 'bytes');\r\n            (document.getElementById('played') as HTMLMediaElement).src = msg.contentUrl;\r\n            vm.replayPlayed();\r\n        });\r\n        $log.info('Subscriptions:', LumenStomp.getSubscriptions());\r\n    };\r\n\r\n    $scope.$on('$ionicView.enter', function() {\r\n        LumenStomp.connect(function() {\r\n            vm.client = LumenStomp.getClient();\r\n            vm.switchAvatar();\r\n        });\r\n    });\r\n    $scope.$on('$ionicView.beforeLeave', function() {\r\n        LumenStomp.disconnect();\r\n    });\r\n\r\n    // Speech Synthesis\r\n    this.communicateSynthesis = function() {\r\n        var msg = {'@type': 'CommunicateAction', avatarId: vm.form.avatarId,\r\n            inLanguage: vm.form.speech.synthesis.inLanguage.id,\r\n            emotionKind: vm.form.speech.synthesis.emotionKind.id,\r\n            object: vm.form.speech.synthesis.object,\r\n            usedForSynthesis: true};\r\n        $log.info('Speech Synthesis', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/lumen.speech.synthesis',\r\n            {\"reply-to\": '/temp-queue/lumen.speech.synthesis'}, JSON.stringify(msg));\r\n    };\r\n    this.communicateChat = function() {\r\n        var msg = {'@type': 'CommunicateAction', avatarId: vm.form.avatarId,\r\n            inLanguage: vm.form.speech.synthesis.inLanguage.id,\r\n            emotionKind: vm.form.speech.synthesis.emotionKind.id,\r\n            object: vm.form.speech.synthesis.object,\r\n            usedForSynthesis: true};\r\n        $log.info('chat.outbox+synthesis', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.chat.outbox',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.chat.outbox'},\r\n            JSON.stringify(msg));\r\n    };\r\n\r\n    // Audio\r\n    this.changeVolume = function() {\r\n        var msg = {'@type': 'AudioVolume', volume: vm.form.audioVolume};\r\n        $log.info('Remote Control', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\r\n    };\r\n    this.playAudio = function() {\r\n        var msg = {\r\n            '@type': 'AudioObject',\r\n            contentUrl: vm.form.audio.contentUrl\r\n        };\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.out',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.out'}, JSON.stringify(msg));\r\n    };\r\n    this.stopAudio = function() {\r\n        var msg = {\r\n            '@type': 'StopAudio',\r\n        };\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio'}, JSON.stringify(msg));\r\n    };\r\n    this.playAudioData = function() {\r\n        var audioFileEl = document.getElementById('audioFile') as HTMLInputElement;\r\n        // {\"webkitRelativePath\":\"\",\"lastModified\":1373040168000,\"lastModifiedDate\":\"2013-07-05T16:02:48.000Z\",\"name\":\"Sate Tegal Balibul3.jpg\",\"type\":\"image/jpeg\",\"size\":42082}\r\n        var audioFile = audioFileEl.files[0];\r\n        $log.debug('Reading...', audioFileEl, audioFileEl.files, audioFile, JSON.stringify(audioFile));\r\n        // ImageObject: name, contentType, contentUrl, contentSize, width, height, uploadDate, dateCreated, dateModified, datePublished\r\n        var reader = new FileReader();\r\n        reader.onloadend = function() {\r\n            var msg = {\r\n                '@type': 'AudioObject',\r\n                name: audioFile.name,\r\n                contentType: audioFile.type,\r\n                contentSize: audioFile.size,\r\n                dateModified: audioFile.lastModifiedDate,\r\n                contentUrl: reader.result\r\n            };\r\n            $log.info('Playing audio', msg.name, '(', msg.contentSize, 'bytes)');\r\n            vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.out',\r\n                {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.out'}, JSON.stringify(msg));\r\n        };\r\n        reader.readAsDataURL(audioFile);\r\n    };\r\n    this.recordAudioFromAvatar = function() {\r\n        var msg = {\r\n            '@type': 'RecordAudio',\r\n            duration: vm.form.audio.recordDuration,\r\n            inLanguage: vm.form.audio.inLanguage.id,\r\n            usedForChat: vm.form.audio.usedForChat\r\n        };\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio'}, JSON.stringify(msg));\r\n    };\r\n    this.sendRecordedMic = function() {\r\n        var recordedFileEl = document.getElementById('recordedMic') as HTMLInputElement;\r\n        var recordedFile = recordedFileEl.files[0];\r\n        $log.debug('Reading...', recordedFileEl, recordedFileEl.files, recordedFile, JSON.stringify(recordedFile));\r\n        var reader = new FileReader();\r\n        reader.onloadend = function() {\r\n            $scope.$apply(function() {\r\n                var audioObject = {\r\n                    '@type': 'AudioObject',\r\n                    inLanguage: vm.form.audio.inLanguage.id,\r\n                    name: recordedFile.name,\r\n                    contentType: recordedFile.type,\r\n                    contentSize: recordedFile.size,\r\n                    dateModified: recordedFile.lastModifiedDate,\r\n                    contentUrl: reader.result,\r\n                    usedForChat: vm.form.audio.usedForChat\r\n                };\r\n                $log.info('AudioObject', audioObject, JSON.stringify(audioObject));\r\n                vm.client.send('/topic/avatar.' + vm.form.avatarId + '.audio.in',\r\n                    {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.audio.in'},\r\n                    JSON.stringify(audioObject));\r\n            });\r\n        };\r\n        reader.readAsDataURL(recordedFile);\r\n    };\r\n    this.replayRecorded = function() {\r\n        var recordedEl = document.getElementById('recorded') as HTMLMediaElement;\r\n        $log.info('Playing recorded ', recordedEl, 'seconds ...');\r\n        recordedEl.play();\r\n    };\r\n    this.replayPlayed = function() {\r\n        var playedEl = document.getElementById('played') as HTMLMediaElement;\r\n        $log.info('Playing played ', playedEl, 'seconds ...');\r\n        playedEl.play();\r\n    };\r\n\r\n    // Actor\r\n    this.act = function() {\r\n        var msg = {\r\n            '@type': 'ActingPerformance',\r\n            script: vm.form.actor.actingScript.id\r\n        };\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.acting',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.acting'}, JSON.stringify(msg));\r\n    };\r\n\r\n    // Motion\r\n    this.wakeUp = function() {\r\n        var wakeMsg = {'@type': 'WakeUp'};\r\n        $log.info('Remote Control', wakeMsg, JSON.stringify(wakeMsg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(wakeMsg));\r\n    };\r\n    this.rest = function() {\r\n        var restMsg = {'@type': 'Rest'};\r\n        $log.info('Remote Control', restMsg, JSON.stringify(restMsg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(restMsg));\r\n    };\r\n    this.changePosture = function(postureId) {\r\n        var msg = {'@type': 'PostureChange', postureId: postureId, speed: vm.form.speed};\r\n        $log.info('Remote Control', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\r\n    };\r\n\r\n    this.moveTo = function() {\r\n        var msg = {\r\n            '@type': \"MoveTo\",\r\n            'backDistance': vm.form.moveTo.backDistance,\r\n            'rightDistance': vm.form.moveTo.rightDistance,\r\n            'turnCcwDeg': vm.form.moveTo.turnCcwDeg\r\n        };\r\n        $log.info('Remote Control', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\r\n    };\r\n\r\n    this.jointInterpolateAngle = function() {\r\n        var msg = {\r\n            '@type': \"JointInterpolateAngle\",\r\n            jointId: vm.form.interpolateAngle.joint.id,\r\n            targetCcwDeg: vm.form.interpolateAngle.targetCcwDeg,\r\n            duration: vm.form.interpolateAngle.duration\r\n        };\r\n        $log.info('Remote Control', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.command',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.command'}, JSON.stringify(msg));\r\n    };\r\n\r\n    // LEDs\r\n    this.ledsOn = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'ON',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n    this.ledsOff = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'OFF',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n    this.ledsFade = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'FADE',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n    this.ledsFadeRgb = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'FADE_RGB',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n    this.ledsRandomEyes = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'RANDOM_EYES',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n    this.ledsRasta = function() {\r\n        var msg = {\r\n            '@type': 'LedOperation',\r\n            kind: 'RASTA',\r\n            names: [vm.form.leds.led.id],\r\n            duration: vm.form.leds.duration,\r\n            intensity: vm.form.leds.intensity,\r\n            color: vm.form.leds.color,\r\n        };\r\n        $log.info('LED', msg, JSON.stringify(msg));\r\n        vm.client.send('/topic/avatar.' + vm.form.avatarId + '.leds',\r\n            {\"reply-to\": '/temp-queue/avatar.' + vm.form.avatarId + '.leds'}, JSON.stringify(msg));\r\n    };\r\n\r\n})\r\n.controller('AvatarInstrumentsCtrl', function($scope, $stateParams, $log, LumenStomp, Settings) {\r\n    var vm = this;\r\n    this.avatarIds = ['nao1', 'nao2',\r\n        'anime1', 'anime2', 'anime3', 'anime4', 'anime5', 'anime6', 'anime7', 'anime8', 'anime9', 'anime10'];\r\n    this.form = {\r\n        avatarId: 'nao1'\r\n    };\r\n    this.client = null;\r\n\r\n    // Avatar\r\n    this.switchAvatar = function() {\r\n        LumenStomp.unsubscribeAll();\r\n        // reset all previous values\r\n        this.joint = {};\r\n        this.sonar = {};\r\n        this.motion = {};\r\n        this.robotpose = {};\r\n        this.tactile = {};\r\n        this.battery = {};\r\n\r\n        /*LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.camera.main', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            //$log.debug('joint ', msg, JSON.stringify(msg));\r\n//            this.messages.push(msg);\r\n            exchange.body = msg;\r\n//            this.messages.push(exchange);\r\n            this.image = exchange;\r\n        });*/\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.joint', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            //$log.debug('joint ', msg, JSON.stringify(msg));\r\n//            this.messages.push(msg);\r\n            exchange.body = msg;\r\n//            this.messages.push(exchange);\r\n            this.joint = exchange;\r\n        });\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.sonar', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            //$log.debug('sonar ', msg, JSON.stringify(msg));\r\n//            this.messages.push(msg);\r\n            exchange.body = msg;\r\n//            this.messages.push(exchange);\r\n            this.sonar = exchange;\r\n        });\r\n\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.motion', function(exchange) {\r\n                    var msg = JSON.parse(exchange.body);\r\n                    //$log.debug('motion ', msg, JSON.stringify(msg));\r\n        //            this.messages.push(msg);\r\n                    exchange.body = msg;\r\n        //            this.messages.push(exchange);\r\n                    this.motion = exchange;\r\n                });\r\n\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.robotpose', function(exchange) {\r\n                    var msg = JSON.parse(exchange.body);\r\n                    //$log.debug('robotpose ', msg, JSON.stringify(msg));\r\n        //            this.messages.push(msg);\r\n                    exchange.body = msg;\r\n        //            this.messages.push(exchange);\r\n                    this.robotpose = exchange;\r\n                });\r\n\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.tactile', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            //$log.debug('tactile ', msg, JSON.stringify(msg));\r\n//            this.messages.push(msg);\r\n            exchange.body = msg;\r\n//            this.messages.push(exchange);\r\n            this.tactile = exchange;\r\n        });\r\n        LumenStomp.subscribe('/topic/avatar.' + this.form.avatarId + '.data.battery', function(exchange) {\r\n            var msg = JSON.parse(exchange.body);\r\n            //$log.debug('battery ', msg, JSON.stringify(msg));\r\n//            this.messages.push(msg);\r\n            exchange.body = msg;\r\n//            this.messages.push(exchange);\r\n            this.battery = exchange;\r\n        });\r\n    };\r\n\r\n    $scope.$on('$ionicView.enter', function(ev) {\r\n        LumenStomp.connect(function() {\r\n            vm.client = LumenStomp.getClient();\r\n            vm.switchAvatar();\r\n        });\r\n    });\r\n    $scope.$on('$ionicView.beforeLeave', function() {\r\n        LumenStomp.disconnect();\r\n    });\r\n\r\n});\r\n"],"sourceRoot":"/source/"}